# í†µí•© ì½”ë“œ
## ğŸ“„ íŒŒì¼ êµ¬ì¡°
```
â”œâ”€â”€ arduino/  
â”‚   â””â”€â”€ motion.ino           # ì•„ë‘ì´ë…¸ ì„¤ì • íŒŒì¼
â”œâ”€â”€ config/                  # TinyOS ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ Makefile
â”‚   â”œâ”€â”€ Temperature.h
â”‚   â”œâ”€â”€ TemperatureAppC.nc 
â”‚   â””â”€â”€ TemperatureC.nc  
â”œâ”€â”€ database/  
â”‚   â””â”€â”€ users.db              # ë°ì´í„°ë² ì´ìŠ¤
â”œâ”€â”€ modules/  
â”‚   â”œâ”€â”€ detect_move.py        # ê°€ì†ë„ ê°ì§€
â”‚   â”œâ”€â”€ motion.py             # ëª¨ì…˜ ê°ì§€
â”‚   â”œâ”€â”€ telegram_alarm.py     # í…”ë ˆê·¸ë¨
â”‚   â””â”€â”€ temperature_check.py  # ì˜¨ë„ ê°ì§€
â””â”€â”€ main.py  
```

## Main.py
### 1. í…”ë ˆê·¸ë¨ ë´‡ ìƒì„± ë° ëª¨ë“ˆ ì´ˆê¸°í™”
   - í•„ìš”í•œ ëª¨ë“ˆë“¤ì„ ì´ˆê¸°í™”í•˜ê³ , í…”ë ˆê·¸ë¨ ë´‡ ìƒì„±
```
application = telegram_alarm.create_telegram_app()

motion_detector = MotionDetector()
temp_checker = TemperatureChecker()
```

### 2. Telegram Bot Polling ì‹œì‘
  - í…”ë ˆê·¸ë¨ ë´‡ì€ `Polling` ëª¨ë“œë¥¼ í†µí•´ ëª…ë ¹ì–´ë¥¼ ê¸°ë‹¤ë¦¬ê³  ì²˜ë¦¬
  - `/start` ëª…ë ¹ì–´ê°€ ë“¤ì–´ì˜¤ë©´ `handle_new_user` í•¨ìˆ˜ ì‹¤í–‰
```
await application.run_polling(allowed_updates=telegram_alarm.Update.ALL_TYPES)
```

### 3. ì„¼ì„œ ê°ì§€ (periodic_check)
   - ì£¼ê¸°ì ìœ¼ë¡œ ì„¼ì„œë¥¼ ê°ì§€í•˜ì—¬ ì•Œë¦¼ ì „ì†¡

      1. **ì°¨ëŸ‰ ì •ì°¨ ê°ì§€**: `detect_move.py`ì˜ `monitor_motion_and_stop()` í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì–´ ì°¨ëŸ‰ì´ ì •ì°¨í–ˆëŠ”ì§€ ê°ì§€í•˜ê³ , ê·¸ ê²°ê³¼ë¡œ True ë˜ëŠ” False ë°˜í™˜
       2. **ì˜¨ë„ ê°ì§€**: `temp_checker`ì˜ `check_temperature()` í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì–´ ì˜¨ë„ë¥¼ ì¸¡ì •í•˜ê³ , ì˜¨ë„ê°€ 30ë„ ì´ìƒì´ë©´ `True` ë°˜í™˜
       3. **ëª¨ì…˜ ê°ì§€**: `motion_detector`ì˜ `detect_motion()` í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì–´ ì´ 3ë²ˆì˜ ëª¨ì…˜ì„ ê°ì§€í•˜ê³ , ê°ì§€ë˜ë©´ `True` ë°˜í™˜

### 4. ì•Œë¦¼ ì „ì†¡ ë° ëŒ€ê¸°
   ì°¨ëŸ‰ ì •ì°¨, ì˜¨ë„ ê°ì§€, ëª¨ì…˜ ê°ì§€ê°€ ëª¨ë‘ `True`ì¼ ê²½ìš° í…”ë ˆê·¸ë¨ ë´‡ì„ í†µí•´ ì•Œë¦¼ì„ ì „ì†¡í•˜ê³ , 1ì‹œê°„ ë™ì•ˆ ëŒ€ê¸°í•©ë‹ˆë‹¤. ì´í›„ ë‹¤ì‹œ ê°ì§€ê°€ ì‹œì‘ë©ë‹ˆë‹¤.


## âš™ï¸ ì‘ë™ íë¦„
ì‚¬ìš©ìê°€ /start ëª…ë ¹ì–´ë¥¼ ì…ë ¥  
â¡ï¸ ì‚¬ìš©ì ë“±ë¡ ë° ì„¼ì„œ ë²ˆí˜¸ í• ë‹¹

ì„¼ì„œ ê°ì§€ ë° ì•Œë¦¼ ì „ì†¡   
â¡ï¸ ì°¨ëŸ‰ ì •ì°¨, ê³ ì˜¨ ê°ì§€, ëª¨ì…˜ ê°ì§€ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ê³ , í•´ë‹¹ ìƒíƒœì— ë”°ë¼ ì•Œë¦¼ ì „ì†¡

ì•Œë¦¼ì„ ë°›ìœ¼ë©´ ì‚¬ìš©ìê°€ ì ì ˆíˆ ëŒ€ì²˜í•  ìˆ˜ ìˆë„ë¡ ì•ˆë‚´  
â¡ï¸ ì‚¬ìš©ìê°€ ì•Œë¦¼ì„ í™•ì¸í•˜ê³  ëŒ€ì²˜ 


## ğŸ“º ì‹¤í–‰ í™”ë©´

### ğŸ“± í…”ë ˆê·¸ë¨ ì‹¤í–‰ í™”ë©´
| DBì— ì‚¬ìš©ìê°€ ì—†ì„ ì‹œ | DBì— ì‚¬ìš©ìê°€ ì¡´ì¬í•  ì‹œ | 
| --- | --- | 
| ![telegramStart](https://github.com/user-attachments/assets/26bccb5e-dc7b-4a8c-8796-9b7552194f2a) | ![telegramAlready](https://github.com/user-attachments/assets/58edcaf4-ae33-4429-91bc-680984cc1dd8) |

### ğŸ’» CMD ë””ë²„ê¹… ì½”ë“œ
| ì‚¬ìš©ì ë“±ë¡ ë° ê°€ì†ë„ ì„¼ì„œ | 
| --- |
| ![start](https://github.com/user-attachments/assets/2ec315bb-5994-401f-aa80-5159e96a9036) | 
| <center>**ì˜¨ë„ ê°ì§€**</center> | 
| ![temperature](https://github.com/user-attachments/assets/cd4fdb4b-1796-49b9-b085-98db8830ff43) | 8 | 9 |
| <center>**ëª¨ì…˜ ê°ì§€**</center> | 
| ![motion](https://github.com/user-attachments/assets/0809d3a7-d03d-4eeb-b870-196e237a397a) | 8 | 9 |


